From 41907fba227c83890c9331e73fdb8ddf3779c0ad Mon Sep 17 00:00:00 2001
From: Andrea Righi <andrea.righi@canonical.com>
Date: Wed, 19 Jul 2023 19:12:59 +0200
Subject: [PATCH 56/57] UBUNTU: SAUCE: apparmor3.2.0: drop unnecessary kfree()
 in apparmor_sk_free_security()

Signed-off-by: Andrea Righi <andrea.righi@canonical.com>
Signed-off-by: John Johansen <john.johansen@canonical.com>
---
 security/apparmor/lsm.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/security/apparmor/lsm.c b/security/apparmor/lsm.c
index d62b9f7399a1..98afb0de3a42 100644
--- a/security/apparmor/lsm.c
+++ b/security/apparmor/lsm.c
@@ -1095,7 +1095,6 @@ static void apparmor_sk_free_security(struct sock *sk)
 	aa_put_label(ctx->label);
 	aa_put_label(ctx->peer);
 	path_put(&ctx->path);
-	kfree(ctx);
 }
 
 /**
-- 
2.41.0

